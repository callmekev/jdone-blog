---
title: "從上帝視角看懂 PKI：小白也能看懂"
description: "PKI（Public Key Infrastructure）是讓網路知道你是你——白話且準確地解釋憑證、金鑰、信任鏈與 HTTPS 的運作。"
date: 2025-11-20
tags:
  - PKI
  - 網路安全
  - 數位憑證
  - HTTPS
  - 資訊安全
---

## 看懂 PKI

**一句話：**

> PKI（Public Key Infrastructure）是「讓網路知道你是你」的系統。沒有它，你不會敢登入網銀、刷卡、VPN、或任何 https 網站。

PKI 的世界其實只有 5 個核心點，本文用白話＋準確的方式說清楚，讓工程師與一般讀者都能快速理解。

---

## 1️⃣ 憑證：網站的「數位身份證」

憑證（Certificate）就像網站的身分證，告訴瀏覽器：**「我真的是 example.com」**。

憑證由 CA（Certificate Authority）發行，例如：

- Let’s Encrypt（免費）
- DigiCert
- GlobalSign

憑證裡通常包含：網域名稱、**公鑰**、有效期限與 CA 的數位簽章。

---

## 2️⃣ 公鑰與私鑰：PKI 的核心魔法

**一句話記牢：公鑰拿來鎖，私鑰拿來解。**

- **公鑰**：可以公開給任何人，用來加密或驗證簽名。
- **私鑰**：必須自己保管，用來解密或簽名。

用途範例：

- 別人用你的公鑰加密 → 只有你用私鑰能解讀。
- 你用私鑰簽名 → 別人用公鑰驗證簽名是否屬於你。

這套公私鑰配合簽章的機制，是 PKI 能提供身份驗證與不可否認性的基礎。

---

## 3️⃣ 信任鏈（Chain of Trust）

不是誰都能自己印身份證，因此 PKI 有層層簽發的信任系統：

```
使用者 -> Root CA -> Intermediate CA -> 網站憑證
```

你的作業系統或瀏覽器內建一份「可信任的 Root CA 清單」。只要網站憑證可以串回某個被系統信任的 Root CA，瀏覽器就會判定該憑證為可信。

**注意點**：中繼（Intermediate）CA 可以降低 Root CA 私鑰暴露風險，同時便於管理與撤銷。

---

## 4️⃣ HTTPS 背後的三件事

當你在瀏覽器看到 🔒，實際上發生了三件重要的事：

1. **身份驗證（Authentication）** — 瀏覽器檢查憑證是否由信任的 CA 簽發。
2. **金鑰交換（Key Exchange）** — TLS 握手（通常用非對稱金鑰）協商對稱金鑰。
3. **資料加密傳輸（Encrypted Session）** — 接下來的資料用對稱加密，兼顧速度與安全。

> 小提醒：瀏覽器的鎖頭代表整個流程通過，**不只是「資料被加密」**，還包含身份的驗證與連線完整性。

---

## 5️⃣ PKI 在日常生活中的應用

你意想不到，PKI 幾乎出現在現代網路的每一角落：

- 所有 `https://` 網站
- 報稅、健保、政府自然人憑證系統
- 企業 VPN、內部系統的憑證
- 行動支付（Apple Pay / Google Pay）與交易認證
- 即時通訊的金鑰交換機制（如 Signal/WhatsApp 的端對端關鍵管理）

---

## 實戰：網站申請 HTTPS 憑證的 6 個步驟（以 `jdone-blog.com` 為例）

| 步驟 | 你在前台看到的事 | 幕後 PKI 在做什麼 |
|------|-------------------|---------------------|
| 1 | 伺服器產生公私鑰 | 生成私鑰（要妥善保存）與公鑰 |
| 2 | 送出 CSR | 將網域資訊與公鑰打包成 CSR（Certificate Signing Request）並送交 CA |
| 3 | CA 要求驗證 | CA 要你放驗證檔或設定 DNS TXT（Domain Control Validation） |
| 4 | 你完成驗證 | CA 檢查網站或 DNS，確認你對網域的控制權 |
| 5 | CA 發證書 | CA 用自身私鑰簽章並發出憑證 |
| 6 | 安裝憑證 | 將憑證安裝到伺服器（Nginx/Apache），使用者連線時會看到 🔒 |

常見自動化工具：

```bash
sudo certbot --nginx -d jdone-blog.com -d www.jdone-blog.com
```

---

## 簡短結論

**PKI = 身份證（憑證） + 信任鏈（CA） + 加密通道（TLS/HTTPS）。**

它讓網路成為一個可以信任的環境，保障身份、資料與連線的完整性。

下次看到瀏覽器的小鎖頭，心裡可以放心地想：

> 「有 PKI 在背後保護我。」

---

{}
{}
